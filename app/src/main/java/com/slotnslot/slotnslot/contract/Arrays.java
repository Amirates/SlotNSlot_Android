package com.slotnslot.slotnslot.contract;

import com.slotnslot.slotnslot.geth.Contract;

import org.web3j.abi.TypeReference;
import org.web3j.abi.datatypes.DynamicArray;
import org.web3j.abi.datatypes.Function;
import org.web3j.abi.datatypes.StaticArray;
import org.web3j.abi.datatypes.generated.Uint256;

import java.util.Collections;

import io.reactivex.Observable;

public final class Arrays extends Contract {
    private static final String BINARY = "6060604052341561000c57fe5b5b6102ed8061001c6000396000f30060606040526000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063b96f54d114610046578063beda363b146100d4575bfe5b341561004e57fe5b610088600480806101400190600a806020026040519081016040528092919082600a6020028082843782019150505050509190505061018e565b6040518082600a602002808383600083146100c2575b8051825260208311156100c25760208201915060208101905060208303925061009e565b50505090500191505060405180910390f35b34156100dc57fe5b6101296004808035906020019082018035906020019080806020026020016040519081016040528093929190818152602001838360200280828437820191505050505050919050506101f3565b604051808060200182810382528381815181526020019150805190602001906020028083836000831461017b575b80518252602083111561017b57602082019150602081019050602083039250610157565b5050509050019250505060405180910390f35b610196610284565b60006000600a9150600090505b818110156101e85783600182018303600a811015156101be57fe5b60200201518382600a811015156101d157fe5b6020020181815250505b80806001019150506101a3565b8292505b5050919050565b6101fb6102ad565b6000600083519150816040518059106102115750595b908082528060200260200182016040525b509250600090505b81811015610279578360018201830381518110151561024557fe5b90602001906020020151838281518110151561025d57fe5b90602001906020020181815250505b808060010191505061022a565b8292505b5050919050565b61014060405190810160405280600a905b60008152602001906001900390816102955790505090565b6020604051908101604052806000815250905600a165627a7a723058204020504514ca38656b158008edf2a73f541605ad95026f946544c6b2bede8cdf0029";

    private Arrays(String contractAddress) {
        super(BINARY, contractAddress);
    }

    public Observable<StaticArray<Uint256>> fixedReverse(StaticArray<Uint256> input) {
        Function function = new Function(
                "fixedReverse",
                Collections.singletonList(input),
                Collections.singletonList(new TypeReference.StaticArrayTypeReference<StaticArray<Uint256>>(10) {
                }));
        return executeCallSingleValueReturnObservable(function);
    }

    public Observable<DynamicArray<Uint256>> dynamicReverse(DynamicArray<Uint256> input) {
        Function function = new Function(
                "dynamicReverse",
                Collections.singletonList(input),
                Collections.singletonList(new TypeReference<DynamicArray<Uint256>>() {
                }));
        return executeCallSingleValueReturnObservable(function);
    }

    public static Arrays load(String contractAddress) {
        return new Arrays(contractAddress);
    }
}
